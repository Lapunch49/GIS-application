## Дипломная работа на тему "ПО поиска минимального пути на пересеченной местности"
**Направление подготовки**: 09.03.04 Программная инженерия

**Цель работы**: оптимизация поиска минимального пути на пересеченной местности с помощью разработанного программного обеспечения.​

## Функциональное назначение программы

Программа предназначена для поиска минимального пути на пересеченной местности, т.е. в условиях отсутствия дорожных путей. Программа учитывает рельеф местности, различные препятствия в виде водных объектов, зданий, преград и позволяет по желанию пользователя учитывать проходимость по горной и лесной местности. Возможно добавление промежуточных точек пути, а также экспорт готового маршрута в формате gpx. Предполагается, что разработанная система позволит оптимизировать работу людей, деятельность которых связана с построением маршрутов в условиях сложного рельефа.

## Состав функций
Программа обеспечивает возможность выполнения перечисленных ниже функций:
- Добавление начального и конечного пунктов маршрута, добавление промежуточных точек маршрута;
- Возможность выбора дополнительных условий построения маршрута: проходимость по лесной и горной местности;
- Возможность укрупнения/измельчения сетки – показателя zoom (для поиска пути на разных расстояниях, соответственно с разной точностью);
- Выделение прямоугольной области, определяющей окно поиска – часть карты местности, на которой работает алгоритм. Возможность изменения размера окна поиска;
- Нахождение алгоритмом оптимального пути и, если он был найден в данном окне поиска, отрисовка его на карте;
- Возможность экспорта пути в формате gpx;
- Возможность очистки всех точек и найденного пути;
- Настройка отображения рельефа (3х параметров) пользователем самостоятельно.

## Примеры работы приложения
Интерфейс приложения при запуске:
![интерфейс](https://github.com/user-attachments/assets/3ee20315-c2d1-46b0-9976-0fc98526d99c)

Возможность учета разной проходимости по лесной местности:
![леса](https://github.com/user-attachments/assets/3597f7c4-404c-491c-9736-56ca079ddb3c)

Возможность учета разной проходимости по горной местности:
![горы](https://github.com/user-attachments/assets/ff0ecba2-a89b-4fd6-b2d2-f79a95bf5f16)

Возможность изменения размера "окна поиска" пользователем:
![окно поиска 2](https://github.com/user-attachments/assets/98358afb-8aa9-4818-b886-4cb6dc3da3e1)

Возможность добавления промежуточных точек маршрута, учет препятствий
![препятствия](https://github.com/user-attachments/assets/0d9c5b53-a3b9-4605-be90-cce7edfa9bd9)

## Эффективность программы

| Размер карты | Кол-во точек маршрута | Общее время выполнения (сек) | Время предобработки  данных (сек) | Время работы алгоритма a_star (сек)| 
|:------------:|:-------------------------:|:------------------------:|:-----------------------------:|:--------------------------------:|
| 256x256 | 159 | 2.429   | 2.389 | 0.040 |
| 512x512 | 277 | 3.335   | 3.146 | 0.187 |
| 768x768 | 528 | 4.899   | 4.367 | 0.531 |
| 1024x1024 | 1123 | 154.669 | 3.600| 151.069 |
| 1280x1280 | 1361 | 51.966 | 5.069 | 46.896 |
| 1536x1536 | 1271 | 35.697 | 10.263 | 25.432 |
| 1792x1792 | 2009 | 281.123 | 5.552 | 275.568 |
| 2048x2048 | 2263 | 1297.278 | 15.817 | 1281.459 |

Время работы алгоритма увеличивается при увеличении размера окна поиска, при наличии препятствий между точками и при учете дополнительных условий. Увеличить скорость работы можно, изменив уровень zoom на меньший.

## Стек технологий
### **ЯП, платформа, среда разработки**:
- **HTML, CSS, JavaScript, Node.js, Vite.js** - простота, производительность, кроссбраузерность и гибкость.<br>
- **Visual Studio Code** - один из самых популярных редакторов исходного кода.
### **Библиотеки**:
- **OpenLayers** - обладает всем необходимым функционалом и является открытой и доступной (в отличие от его главного конкурента Leaflet).<br>
- **Turf.js** - множество функций для работы с геообъектами в формате GeoJSON.<br>
- **Osmtogeojson.js** - для преобразования данных OSM в формат GeoJSON.
### **Источники данных**:
- **OpenStreetMap(OSM)** - открытый проект, направленный на создание и предоставление детализированных картографических данных, собранных сообществом добровольцев.<br>
- **Overpass API (или OSM3S)** - это API, который позволяет извлекать выборочные данные из базы OSM по пользовательскому запросу с помощью языка запросов OverpassQL вместо извлечения сырых данных из OSM.<br>
- **Сервис Terrain Tiles от Mapzen** - открытый источник данных (на Amazon S3) о рельефе местности.<br>

## Математическое обеспечение решения
Был выбран и реализован алгоритм А*, как самый оптимальный из существующих, для поиска минимального пути на пересеченной местности.

__Алгоритм А*__ сочетает в себе достоинства алгоритма Дейкстры и жадного поиска, используя функцию стоимости 
_f(x)_ = _g(x)_ + _h(x)_,
где _g(x)_ — фактическая стоимость пути от начального узла до текущего узла,
_h(x)_ — эвристическая оценка минимальной стоимости пути от текущего узла до целевого. 

## Архитектура решения 
![image](https://github.com/user-attachments/assets/f65162c2-c3d5-4879-a89f-a3fb55d8f726)

## Алгоритм решения
![image](https://github.com/user-attachments/assets/c9838a9e-5886-48ce-9174-5cf6b12bbc1b)

Формируемые в ходе работы программы изображения(матрицы):

![image](https://github.com/user-attachments/assets/ed584eeb-7b5f-4b4a-a5b6-2663fe0ef74d)

## Функциональная модель

IDEF-диаграмма 0го уровня:
![image](https://github.com/user-attachments/assets/bb7abd70-309d-434a-9961-fb70eed39f30)

Управление:<br>
* Используемые системы координат (EPSG:3857 – прямоугольная система координат, основанная на проекции Меркатора, построенной по системе параметров WGS84, единица измерения – метр; EPSG:4326 – географическая система координат, основанная на системе параметров WGS84, единица измерения — градус);
* Cтруктура растровых ЦМР (цифровой модели рельефа);
* Структура OverpassQL запроса (языка запросов для Overpass API);
* Структура GeoJSON (стандарт RFC 7946);
* Требования к структуре ячейки сетки;
* Структура файла в формате GPX (текстовый формат хранения и обмена данными GPS, основанный на XML).

Решение задачи, представленной на 0 уровне, было разбито на 4 подзадачи. На рисунке представлена декомпозиция функциональной диаграммы до 1 уровня детализации:
![image](https://github.com/user-attachments/assets/da760ab7-a982-4cc9-bd13-4ff0e6d4b0e9)

Процесс А2 «Предобработка данных» был также декомпозирован с целью повышения понимания работы данного процесса:
![image](https://github.com/user-attachments/assets/a5f042d4-372d-486c-b3a2-cc003de70b72)






